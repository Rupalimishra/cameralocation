{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"expo-location","data":{"isAsync":false}},{"name":"expo-permissions","data":{"isAsync":false}},{"name":"../constants/Colors","data":{"isAsync":false}},{"name":"./MapPreview","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  var _interopRequireWildcard = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireWildcard\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/regenerator\"));\n\n  var _slicedToArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/slicedToArray\"));\n\n  var _react = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[4], \"react\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[5], \"react-native\");\n\n  var Location = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[6], \"expo-location\"));\n\n  var Permissions = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[7], \"expo-permissions\"));\n\n  var _Colors = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[8], \"../constants/Colors\"));\n\n  var _MapPreview = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[9], \"./MapPreview\"));\n\n  var _jsxFileName = \"/home/rupalimishra/Documents/reactnative/myMealApp/components/LocationPicker.js\",\n      _s = $RefreshSig$();\n\n  var LocationPicker = function LocationPicker(props) {\n    _s();\n\n    var _useState = (0, _react.useState)(false),\n        _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n        isFetching = _useState2[0],\n        setIsFetching = _useState2[1];\n\n    var _useState3 = (0, _react.useState)(),\n        _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n        pickedLocation = _useState4[0],\n        setPickedLocation = _useState4[1];\n\n    var verifyPermissions = function verifyPermissions() {\n      var result;\n      return _regenerator.default.async(function verifyPermissions$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regenerator.default.awrap(Permissions.askAsync(Permissions.LOCATION));\n\n            case 2:\n              result = _context.sent;\n\n              if (!(result.status !== 'granted')) {\n                _context.next = 6;\n                break;\n              }\n\n              _reactNative.Alert.alert('Insufficient permissions!', 'You need to grant location permissions to use this app.', [{\n                text: 'Okay'\n              }]);\n\n              return _context.abrupt(\"return\", false);\n\n            case 6:\n              return _context.abrupt(\"return\", true);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    var getLocationHandler = function getLocationHandler() {\n      var hasPermission, location;\n      return _regenerator.default.async(function getLocationHandler$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regenerator.default.awrap(verifyPermissions());\n\n            case 2:\n              hasPermission = _context2.sent;\n\n              if (hasPermission) {\n                _context2.next = 5;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 5:\n              _context2.prev = 5;\n              setIsFetching(true);\n              _context2.next = 9;\n              return _regenerator.default.awrap(Location.getCurrentPositionAsync({\n                timeout: 5000\n              }));\n\n            case 9:\n              location = _context2.sent;\n              setPickedLocation({\n                lat: location.coords.latitude,\n                lng: location.coords.longitude\n              });\n              _context2.next = 16;\n              break;\n\n            case 13:\n              _context2.prev = 13;\n              _context2.t0 = _context2[\"catch\"](5);\n\n              _reactNative.Alert.alert('Could not fetch location!', 'Please try again later or pick a location on the map.', [{\n                text: 'Okay'\n              }]);\n\n            case 16:\n              setIsFetching(false);\n\n            case 17:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[5, 13]], Promise);\n    };\n\n    return _react.default.createElement(_reactNative.View, {\n      style: styles.locationPicker,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }\n    }, _react.default.createElement(_MapPreview.default, {\n      style: styles.mapPreview,\n      location: pickedLocation,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, isFetching ? _react.default.createElement(_reactNative.ActivityIndicator, {\n      size: \"large\",\n      color: _Colors.default.primary,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }) : _react.default.createElement(_reactNative.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }, \"No location chosen yet!\")), _react.default.createElement(_reactNative.Button, {\n      title: \"Get User Location\",\n      color: _Colors.default.primary,\n      onPress: getLocationHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }\n    }));\n  };\n\n  _s(LocationPicker, \"MD33IDizpRqXMGaE/C+IpV+0Smk=\");\n\n  _c = LocationPicker;\n\n  var styles = _reactNative.StyleSheet.create({\n    locationPicker: {\n      marginBottom: 15\n    },\n    mapPreview: {\n      marginBottom: 10,\n      width: '100%',\n      height: 150,\n      borderColor: '#ccc',\n      borderWidth: 1\n    }\n  });\n\n  var _default = LocationPicker;\n  exports.default = _default;\n\n  var _c;\n\n  $RefreshReg$(_c, \"LocationPicker\");\n});","lineCount":196,"map":[[15,0,1,0],[17,0,2,0],[19,0,10,0],[21,0,11,0],[23,0,13,0],[25,0,14,0],[30,0,16,0],[30,6,16,6,"LocationPicker"],[30,20,16,20],[30,23,16,23],[30,32,16,6,"LocationPicker"],[30,46,16,23],[30,47,16,23,"props"],[30,52,16,28],[30,54,16,32],[31,0,16,32],[33,0,16,32],[33,20,17,38],[33,41,17,47],[33,46,17,38],[33,47,16,32],[34,0,16,32],[35,0,16,32],[35,8,17,9,"isFetching"],[35,18,16,32],[36,0,16,32],[36,8,17,21,"setIsFetching"],[36,21,16,32],[38,0,16,32],[38,21,18,46],[38,43,16,32],[39,0,16,32],[40,0,16,32],[40,8,18,9,"pickedLocation"],[40,22,16,32],[41,0,16,32],[41,8,18,25,"setPickedLocation"],[41,25,16,32],[43,0,20,2],[43,8,20,8,"verifyPermissions"],[43,25,20,25],[43,28,20,28],[43,37,20,8,"verifyPermissions"],[43,54,20,28],[44,0,20,28],[45,0,20,28],[46,0,20,28],[47,0,20,28],[48,0,20,28],[49,0,20,28],[50,0,20,28],[50,48,21,25,"Permissions"],[50,59,21,36],[50,60,21,37,"askAsync"],[50,68,21,25],[50,69,21,46,"Permissions"],[50,80,21,57],[50,81,21,58,"LOCATION"],[50,89,21,25],[50,90,20,28],[52,0,20,28],[53,0,21,10,"result"],[53,14,21,10,"result"],[53,20,20,28],[55,0,20,28],[55,20,22,8,"result"],[55,26,22,14],[55,27,22,15,"status"],[55,33,22,8],[55,38,22,26],[55,47,20,28],[56,0,20,28],[57,0,20,28],[58,0,20,28],[60,0,23,6,"Alert"],[60,33,23,12,"alert"],[60,38,23,6],[60,39,24,8],[60,66,23,6],[60,68,25,8],[60,125,23,6],[60,127,26,8],[60,128,26,9],[61,0,26,11,"text"],[61,16,26,11,"text"],[61,20,26,15],[61,22,26,17],[62,0,26,9],[62,15,26,8],[62,16,23,6],[64,0,20,28],[64,47,28,13],[64,52,20,28],[66,0,20,28],[67,0,20,28],[67,47,30,11],[67,51,20,28],[69,0,20,28],[70,0,20,28],[71,0,20,28],[72,0,20,28],[73,0,20,28],[74,0,20,28],[75,0,20,28],[75,5,20,2],[77,0,33,2],[77,8,33,8,"getLocationHandler"],[77,26,33,26],[77,29,33,29],[77,38,33,8,"getLocationHandler"],[77,56,33,29],[78,0,33,29],[79,0,33,29],[80,0,33,29],[81,0,33,29],[82,0,33,29],[83,0,33,29],[84,0,33,29],[84,48,34,32,"verifyPermissions"],[84,65,34,49],[84,67,33,29],[86,0,33,29],[87,0,34,10,"hasPermission"],[87,14,34,10,"hasPermission"],[87,27,33,29],[89,0,33,29],[89,18,35,9,"hasPermission"],[89,31,33,29],[90,0,33,29],[91,0,33,29],[92,0,33,29],[94,0,33,29],[96,0,33,29],[97,0,33,29],[98,0,40,6,"setIsFetching"],[98,14,40,6,"setIsFetching"],[98,27,40,19],[98,28,40,20],[98,32,40,19],[98,33,40,6],[99,0,33,29],[100,0,33,29],[100,48,41,29,"Location"],[100,56,41,37],[100,57,41,38,"getCurrentPositionAsync"],[100,80,41,29],[100,81,41,62],[101,0,42,8,"timeout"],[101,16,42,8,"timeout"],[101,23,42,15],[101,25,42,17],[102,0,41,62],[102,15,41,29],[102,16,33,29],[104,0,33,29],[105,0,41,12,"location"],[105,14,41,12,"location"],[105,22,33,29],[106,0,44,6,"setPickedLocation"],[106,14,44,6,"setPickedLocation"],[106,31,44,23],[106,32,44,24],[107,0,45,8,"lat"],[107,16,45,8,"lat"],[107,19,45,11],[107,21,45,13,"location"],[107,29,45,21],[107,30,45,22,"coords"],[107,36,45,13],[107,37,45,29,"latitude"],[107,45,44,24],[108,0,46,8,"lng"],[108,16,46,8,"lng"],[108,19,46,11],[108,21,46,13,"location"],[108,29,46,21],[108,30,46,22,"coords"],[108,36,46,13],[108,37,46,29,"longitude"],[109,0,44,24],[109,15,44,23],[109,16,44,6],[110,0,33,29],[111,0,33,29],[113,0,33,29],[114,0,33,29],[115,0,33,29],[117,0,49,6,"Alert"],[117,33,49,12,"alert"],[117,38,49,6],[117,39,50,8],[117,66,49,6],[117,68,51,8],[117,123,49,6],[117,125,52,8],[117,126,52,9],[118,0,52,11,"text"],[118,16,52,11,"text"],[118,20,52,15],[118,22,52,17],[119,0,52,9],[119,15,52,8],[119,16,49,6],[121,0,33,29],[122,0,55,4,"setIsFetching"],[122,14,55,4,"setIsFetching"],[122,27,55,17],[122,28,55,18],[122,33,55,17],[122,34,55,4],[124,0,33,29],[125,0,33,29],[126,0,33,29],[127,0,33,29],[128,0,33,29],[129,0,33,29],[130,0,33,29],[130,5,33,2],[132,0,58,2],[132,11,59,4],[132,40,59,5],[132,57,59,4],[133,0,59,10],[133,6,59,10],[133,11,59,15],[133,13,59,17,"styles"],[133,19,59,23],[133,20,59,24,"locationPicker"],[133,34,59,4],[134,0,59,4],[135,0,59,4],[136,0,59,4],[137,0,59,4],[138,0,59,4],[139,0,59,4],[139,7,60,6],[139,36,60,7],[139,55,60,6],[140,0,60,18],[140,6,60,18],[140,11,60,23],[140,13,60,25,"styles"],[140,19,60,31],[140,20,60,32,"mapPreview"],[140,30,60,6],[141,0,60,44],[141,6,60,44],[141,14,60,52],[141,16,60,54,"pickedLocation"],[141,30,60,6],[142,0,60,6],[143,0,60,6],[144,0,60,6],[145,0,60,6],[146,0,60,6],[147,0,60,6],[147,7,61,9,"isFetching"],[147,17,61,19],[147,20,62,10],[147,49,62,11],[147,79,62,10],[148,0,62,29],[148,6,62,29],[148,10,62,33],[148,12,62,34],[148,19,62,10],[149,0,62,42],[149,6,62,42],[149,11,62,47],[149,13,62,49,"Colors"],[149,29,62,56,"primary"],[149,36,62,10],[150,0,62,10],[151,0,62,10],[152,0,62,10],[153,0,62,10],[154,0,62,10],[155,0,62,10],[155,6,61,19],[155,9,64,10],[155,38,64,11],[155,55,64,10],[156,0,64,10],[157,0,64,10],[158,0,64,10],[159,0,64,10],[160,0,64,10],[161,0,64,10],[161,33,60,6],[161,34,59,4],[161,36,67,6],[161,65,67,7],[161,84,67,6],[162,0,68,8],[162,6,68,8],[162,11,68,13],[162,13,68,14],[162,32,67,6],[163,0,69,8],[163,6,69,8],[163,11,69,13],[163,13,69,15,"Colors"],[163,29,69,22,"primary"],[163,36,67,6],[164,0,70,8],[164,6,70,8],[164,13,70,15],[164,15,70,17,"getLocationHandler"],[164,33,67,6],[165,0,67,6],[166,0,67,6],[167,0,67,6],[168,0,67,6],[169,0,67,6],[170,0,67,6],[170,6,59,4],[170,7,58,2],[171,0,74,1],[171,3,16,0],[173,5,16,6,"LocationPicker"],[173,19],[175,7,16,6,"LocationPicker"],[175,21],[177,0,76,0],[177,6,76,6,"styles"],[177,12,76,12],[177,15,76,15,"StyleSheet"],[177,39,76,26,"create"],[177,45,76,15],[177,46,76,33],[178,0,77,2,"locationPicker"],[178,4,77,2,"locationPicker"],[178,18,77,16],[178,20,77,18],[179,0,78,4,"marginBottom"],[179,6,78,4,"marginBottom"],[179,18,78,16],[179,20,78,18],[180,0,77,18],[180,5,76,33],[181,0,80,2,"mapPreview"],[181,4,80,2,"mapPreview"],[181,14,80,12],[181,16,80,14],[182,0,81,4,"marginBottom"],[182,6,81,4,"marginBottom"],[182,18,81,16],[182,20,81,18],[182,22,80,14],[183,0,82,4,"width"],[183,6,82,4,"width"],[183,11,82,9],[183,13,82,11],[183,19,80,14],[184,0,83,4,"height"],[184,6,83,4,"height"],[184,12,83,10],[184,14,83,12],[184,17,80,14],[185,0,84,4,"borderColor"],[185,6,84,4,"borderColor"],[185,17,84,15],[185,19,84,17],[185,25,80,14],[186,0,85,4,"borderWidth"],[186,6,85,4,"borderWidth"],[186,17,85,15],[186,19,85,17],[187,0,80,14],[188,0,76,33],[188,3,76,15],[188,4,76,0],[190,17,89,15,"LocationPicker"],[190,31]],"functionMap":{"names":["<global>","LocationPicker","verifyPermissions","getLocationHandler"],"mappings":"AAA;uBCe;4BCI;GDW;6BEE;GFuB;CDkB"}},"type":"js/module"}]}