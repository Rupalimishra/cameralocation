{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"expo-location","data":{"isAsync":false}},{"name":"expo-permissions","data":{"isAsync":false}},{"name":"../constants/Colors","data":{"isAsync":false}},{"name":"./MapPreview","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  var _interopRequireWildcard = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireWildcard\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/regenerator\"));\n\n  var _slicedToArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/slicedToArray\"));\n\n  var _react = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[4], \"react\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[5], \"react-native\");\n\n  var Location = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[6], \"expo-location\"));\n\n  var Permissions = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[7], \"expo-permissions\"));\n\n  var _Colors = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[8], \"../constants/Colors\"));\n\n  var _MapPreview = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[9], \"./MapPreview\"));\n\n  var _jsxFileName = \"/home/rupalimishra/Documents/reactnative/myMealApp/components/LocationPicker.js\",\n      _s = $RefreshSig$();\n\n  var LocationPicker = function LocationPicker(props) {\n    _s();\n\n    var _useState = (0, _react.useState)(false),\n        _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n        isFetching = _useState2[0],\n        setIsFetching = _useState2[1];\n\n    var _useState3 = (0, _react.useState)(),\n        _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n        pickedLocation = _useState4[0],\n        setPickedLocation = _useState4[1];\n\n    var verifyPermissions = function verifyPermissions() {\n      var result;\n      return _regenerator.default.async(function verifyPermissions$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regenerator.default.awrap(Permissions.askAsync(Permissions.LOCATION));\n\n            case 2:\n              result = _context.sent;\n\n              if (!(result.status !== 'granted')) {\n                _context.next = 6;\n                break;\n              }\n\n              _reactNative.Alert.alert('Insufficient permissions!', 'You need to grant location permissions to use this app.', [{\n                text: 'Okay'\n              }]);\n\n              return _context.abrupt(\"return\", false);\n\n            case 6:\n              return _context.abrupt(\"return\", true);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    var getLocationHandler = function getLocationHandler() {\n      var hasPermission, location;\n      return _regenerator.default.async(function getLocationHandler$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regenerator.default.awrap(verifyPermissions());\n\n            case 2:\n              hasPermission = _context2.sent;\n\n              if (hasPermission) {\n                _context2.next = 5;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 5:\n              _context2.prev = 5;\n              setIsFetching(true);\n              _context2.next = 9;\n              return _regenerator.default.awrap(Location.getCurrentPositionAsync({\n                timeout: 5000\n              }));\n\n            case 9:\n              location = _context2.sent;\n              setPickedLocation({\n                lat: location.coords.latitude,\n                lng: location.coords.longitude\n              });\n              _context2.next = 16;\n              break;\n\n            case 13:\n              _context2.prev = 13;\n              _context2.t0 = _context2[\"catch\"](5);\n\n              _reactNative.Alert.alert('Could not fetch location!', 'Please try again later or pick a location on the map.', [{\n                text: 'Okay'\n              }]);\n\n            case 16:\n              setIsFetching(false);\n\n            case 17:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[5, 13]], Promise);\n    };\n\n    var pickOnMapHandler = function pickOnMapHandler() {\n      props.navigation.navigate('Map');\n    };\n\n    return _react.default.createElement(_reactNative.View, {\n      style: styles.locationPicker,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }\n    }, _react.default.createElement(_MapPreview.default, {\n      style: styles.mapPreview,\n      location: pickedLocation,\n      onPress: pickOnMapHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }\n    }, isFetching ? _react.default.createElement(_reactNative.ActivityIndicator, {\n      size: \"large\",\n      color: _Colors.default.primary,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }) : _react.default.createElement(_reactNative.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, \"No location chosen yet!\")), _react.default.createElement(_reactNative.View, {\n      style: styles.actions,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    }, _react.default.createElement(_reactNative.Button, {\n      title: \"Get User Location\",\n      color: _Colors.default.primary,\n      onPress: getLocationHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }), _react.default.createElement(_reactNative.Button, {\n      title: \"Pick on Map\",\n      color: _Colors.default.primary,\n      onPress: pickOnMapHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    })));\n  };\n\n  _s(LocationPicker, \"MD33IDizpRqXMGaE/C+IpV+0Smk=\");\n\n  _c = LocationPicker;\n\n  var styles = _reactNative.StyleSheet.create({\n    locationPicker: {\n      marginBottom: 15\n    },\n    mapPreview: {\n      marginBottom: 10,\n      width: '100%',\n      height: 150,\n      borderColor: '#ccc',\n      borderWidth: 1\n    },\n    actions: {\n      flexDirection: 'row',\n      justifyContent: 'space-around',\n      width: '100%'\n    }\n  });\n\n  var _default = LocationPicker;\n  exports.default = _default;\n\n  var _c;\n\n  $RefreshReg$(_c, \"LocationPicker\");\n});","lineCount":222,"map":[[15,0,1,0],[17,0,2,0],[19,0,10,0],[21,0,11,0],[23,0,13,0],[25,0,14,0],[30,0,16,0],[30,6,16,6,"LocationPicker"],[30,20,16,20],[30,23,16,23],[30,32,16,6,"LocationPicker"],[30,46,16,23],[30,47,16,23,"props"],[30,52,16,28],[30,54,16,32],[31,0,16,32],[33,0,16,32],[33,20,17,38],[33,41,17,47],[33,46,17,38],[33,47,16,32],[34,0,16,32],[35,0,16,32],[35,8,17,9,"isFetching"],[35,18,16,32],[36,0,16,32],[36,8,17,21,"setIsFetching"],[36,21,16,32],[38,0,16,32],[38,21,18,46],[38,43,16,32],[39,0,16,32],[40,0,16,32],[40,8,18,9,"pickedLocation"],[40,22,16,32],[41,0,16,32],[41,8,18,25,"setPickedLocation"],[41,25,16,32],[43,0,20,2],[43,8,20,8,"verifyPermissions"],[43,25,20,25],[43,28,20,28],[43,37,20,8,"verifyPermissions"],[43,54,20,28],[44,0,20,28],[45,0,20,28],[46,0,20,28],[47,0,20,28],[48,0,20,28],[49,0,20,28],[50,0,20,28],[50,48,21,25,"Permissions"],[50,59,21,36],[50,60,21,37,"askAsync"],[50,68,21,25],[50,69,21,46,"Permissions"],[50,80,21,57],[50,81,21,58,"LOCATION"],[50,89,21,25],[50,90,20,28],[52,0,20,28],[53,0,21,10,"result"],[53,14,21,10,"result"],[53,20,20,28],[55,0,20,28],[55,20,22,8,"result"],[55,26,22,14],[55,27,22,15,"status"],[55,33,22,8],[55,38,22,26],[55,47,20,28],[56,0,20,28],[57,0,20,28],[58,0,20,28],[60,0,23,6,"Alert"],[60,33,23,12,"alert"],[60,38,23,6],[60,39,24,8],[60,66,23,6],[60,68,25,8],[60,125,23,6],[60,127,26,8],[60,128,26,9],[61,0,26,11,"text"],[61,16,26,11,"text"],[61,20,26,15],[61,22,26,17],[62,0,26,9],[62,15,26,8],[62,16,23,6],[64,0,20,28],[64,47,28,13],[64,52,20,28],[66,0,20,28],[67,0,20,28],[67,47,30,11],[67,51,20,28],[69,0,20,28],[70,0,20,28],[71,0,20,28],[72,0,20,28],[73,0,20,28],[74,0,20,28],[75,0,20,28],[75,5,20,2],[77,0,33,2],[77,8,33,8,"getLocationHandler"],[77,26,33,26],[77,29,33,29],[77,38,33,8,"getLocationHandler"],[77,56,33,29],[78,0,33,29],[79,0,33,29],[80,0,33,29],[81,0,33,29],[82,0,33,29],[83,0,33,29],[84,0,33,29],[84,48,34,32,"verifyPermissions"],[84,65,34,49],[84,67,33,29],[86,0,33,29],[87,0,34,10,"hasPermission"],[87,14,34,10,"hasPermission"],[87,27,33,29],[89,0,33,29],[89,18,35,9,"hasPermission"],[89,31,33,29],[90,0,33,29],[91,0,33,29],[92,0,33,29],[94,0,33,29],[96,0,33,29],[97,0,33,29],[98,0,40,6,"setIsFetching"],[98,14,40,6,"setIsFetching"],[98,27,40,19],[98,28,40,20],[98,32,40,19],[98,33,40,6],[99,0,33,29],[100,0,33,29],[100,48,41,29,"Location"],[100,56,41,37],[100,57,41,38,"getCurrentPositionAsync"],[100,80,41,29],[100,81,41,62],[101,0,42,8,"timeout"],[101,16,42,8,"timeout"],[101,23,42,15],[101,25,42,17],[102,0,41,62],[102,15,41,29],[102,16,33,29],[104,0,33,29],[105,0,41,12,"location"],[105,14,41,12,"location"],[105,22,33,29],[106,0,44,6,"setPickedLocation"],[106,14,44,6,"setPickedLocation"],[106,31,44,23],[106,32,44,24],[107,0,45,8,"lat"],[107,16,45,8,"lat"],[107,19,45,11],[107,21,45,13,"location"],[107,29,45,21],[107,30,45,22,"coords"],[107,36,45,13],[107,37,45,29,"latitude"],[107,45,44,24],[108,0,46,8,"lng"],[108,16,46,8,"lng"],[108,19,46,11],[108,21,46,13,"location"],[108,29,46,21],[108,30,46,22,"coords"],[108,36,46,13],[108,37,46,29,"longitude"],[109,0,44,24],[109,15,44,23],[109,16,44,6],[110,0,33,29],[111,0,33,29],[113,0,33,29],[114,0,33,29],[115,0,33,29],[117,0,49,6,"Alert"],[117,33,49,12,"alert"],[117,38,49,6],[117,39,50,8],[117,66,49,6],[117,68,51,8],[117,123,49,6],[117,125,52,8],[117,126,52,9],[118,0,52,11,"text"],[118,16,52,11,"text"],[118,20,52,15],[118,22,52,17],[119,0,52,9],[119,15,52,8],[119,16,49,6],[121,0,33,29],[122,0,55,4,"setIsFetching"],[122,14,55,4,"setIsFetching"],[122,27,55,17],[122,28,55,18],[122,33,55,17],[122,34,55,4],[124,0,33,29],[125,0,33,29],[126,0,33,29],[127,0,33,29],[128,0,33,29],[129,0,33,29],[130,0,33,29],[130,5,33,2],[132,0,58,2],[132,8,58,8,"pickOnMapHandler"],[132,24,58,24],[132,27,58,27],[132,36,58,8,"pickOnMapHandler"],[132,52,58,27],[132,55,58,33],[133,0,59,4,"props"],[133,6,59,4,"props"],[133,11,59,9],[133,12,59,10,"navigation"],[133,22,59,4],[133,23,59,21,"navigate"],[133,31,59,4],[133,32,59,30],[133,37,59,4],[134,0,60,3],[134,5,58,2],[136,0,62,2],[136,11,63,4],[136,40,63,5],[136,57,63,4],[137,0,63,10],[137,6,63,10],[137,11,63,15],[137,13,63,17,"styles"],[137,19,63,23],[137,20,63,24,"locationPicker"],[137,34,63,4],[138,0,63,4],[139,0,63,4],[140,0,63,4],[141,0,63,4],[142,0,63,4],[143,0,63,4],[143,7,64,6],[143,36,64,7],[143,55,64,6],[144,0,65,8],[144,6,65,8],[144,11,65,13],[144,13,65,15,"styles"],[144,19,65,21],[144,20,65,22,"mapPreview"],[144,30,64,6],[145,0,66,8],[145,6,66,8],[145,14,66,16],[145,16,66,18,"pickedLocation"],[145,30,64,6],[146,0,67,8],[146,6,67,8],[146,13,67,15],[146,15,67,17,"pickOnMapHandler"],[146,31,64,6],[147,0,64,6],[148,0,64,6],[149,0,64,6],[150,0,64,6],[151,0,64,6],[152,0,64,6],[152,7,69,9,"isFetching"],[152,17,69,19],[152,20,70,10],[152,49,70,11],[152,79,70,10],[153,0,70,29],[153,6,70,29],[153,10,70,33],[153,12,70,34],[153,19,70,10],[154,0,70,42],[154,6,70,42],[154,11,70,47],[154,13,70,49,"Colors"],[154,29,70,56,"primary"],[154,36,70,10],[155,0,70,10],[156,0,70,10],[157,0,70,10],[158,0,70,10],[159,0,70,10],[160,0,70,10],[160,6,69,19],[160,9,72,10],[160,38,72,11],[160,55,72,10],[161,0,72,10],[162,0,72,10],[163,0,72,10],[164,0,72,10],[165,0,72,10],[166,0,72,10],[166,33,64,6],[166,34,63,4],[166,36,75,6],[166,65,75,7],[166,82,75,6],[167,0,75,12],[167,6,75,12],[167,11,75,17],[167,13,75,19,"styles"],[167,19,75,25],[167,20,75,26,"actions"],[167,27,75,6],[168,0,75,6],[169,0,75,6],[170,0,75,6],[171,0,75,6],[172,0,75,6],[173,0,75,6],[173,7,76,8],[173,36,76,9],[173,55,76,8],[174,0,77,10],[174,6,77,10],[174,11,77,15],[174,13,77,16],[174,32,76,8],[175,0,78,10],[175,6,78,10],[175,11,78,15],[175,13,78,17,"Colors"],[175,29,78,24,"primary"],[175,36,76,8],[176,0,79,10],[176,6,79,10],[176,13,79,17],[176,15,79,19,"getLocationHandler"],[176,33,76,8],[177,0,76,8],[178,0,76,8],[179,0,76,8],[180,0,76,8],[181,0,76,8],[182,0,76,8],[182,6,75,6],[182,8,81,8],[182,37,81,9],[182,56,81,8],[183,0,82,10],[183,6,82,10],[183,11,82,15],[183,13,82,16],[183,26,81,8],[184,0,83,10],[184,6,83,10],[184,11,83,15],[184,13,83,17,"Colors"],[184,29,83,24,"primary"],[184,36,81,8],[185,0,84,10],[185,6,84,10],[185,13,84,17],[185,15,84,19,"pickOnMapHandler"],[185,31,81,8],[186,0,81,8],[187,0,81,8],[188,0,81,8],[189,0,81,8],[190,0,81,8],[191,0,81,8],[191,6,75,6],[191,7,63,4],[191,8,62,2],[192,0,89,1],[192,3,16,0],[194,5,16,6,"LocationPicker"],[194,19],[196,7,16,6,"LocationPicker"],[196,21],[198,0,91,0],[198,6,91,6,"styles"],[198,12,91,12],[198,15,91,15,"StyleSheet"],[198,39,91,26,"create"],[198,45,91,15],[198,46,91,33],[199,0,92,2,"locationPicker"],[199,4,92,2,"locationPicker"],[199,18,92,16],[199,20,92,18],[200,0,93,4,"marginBottom"],[200,6,93,4,"marginBottom"],[200,18,93,16],[200,20,93,18],[201,0,92,18],[201,5,91,33],[202,0,95,2,"mapPreview"],[202,4,95,2,"mapPreview"],[202,14,95,12],[202,16,95,14],[203,0,96,4,"marginBottom"],[203,6,96,4,"marginBottom"],[203,18,96,16],[203,20,96,18],[203,22,95,14],[204,0,97,4,"width"],[204,6,97,4,"width"],[204,11,97,9],[204,13,97,11],[204,19,95,14],[205,0,98,4,"height"],[205,6,98,4,"height"],[205,12,98,10],[205,14,98,12],[205,17,95,14],[206,0,99,4,"borderColor"],[206,6,99,4,"borderColor"],[206,17,99,15],[206,19,99,17],[206,25,95,14],[207,0,100,4,"borderWidth"],[207,6,100,4,"borderWidth"],[207,17,100,15],[207,19,100,17],[208,0,95,14],[208,5,91,33],[209,0,102,2,"actions"],[209,4,102,2,"actions"],[209,11,102,9],[209,13,102,11],[210,0,103,4,"flexDirection"],[210,6,103,4,"flexDirection"],[210,19,103,17],[210,21,103,19],[210,26,102,11],[211,0,104,4,"justifyContent"],[211,6,104,4,"justifyContent"],[211,20,104,18],[211,22,104,20],[211,36,102,11],[212,0,105,4,"width"],[212,6,105,4,"width"],[212,11,105,9],[212,13,105,11],[213,0,102,11],[214,0,91,33],[214,3,91,15],[214,4,91,0],[216,17,109,15,"LocationPicker"],[216,31]],"functionMap":{"names":["<global>","LocationPicker","verifyPermissions","getLocationHandler","pickOnMapHandler"],"mappings":"AAA;uBCe;4BCI;GDW;6BEE;GFuB;2BGE;GHE;CD6B"}},"type":"js/module"}]}